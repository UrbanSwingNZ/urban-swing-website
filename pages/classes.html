<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="West Coast Swing classes every Thursday at Dance Express Napier. Beginner classes start at 7:30pm. Check our pricing, location details, and register now!">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://urbanswing.co.nz/classes.html">
  <meta property="og:title" content="Class Information - Urban Swing">
  <meta property="og:description" content="West Coast Swing classes every Thursday at Dance Express Napier. Beginner classes start at 7:30pm. Register now!">
  <meta property="og:image" content="https://urbanswing.co.nz/images/urban-swing-logo.png">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://urbanswing.co.nz/classes.html">
  <meta property="twitter:title" content="Class Information - Urban Swing">
  <meta property="twitter:description" content="West Coast Swing classes every Thursday at Dance Express Napier. Beginner classes start at 7:30pm. Register now!">
  <meta property="twitter:image" content="https://urbanswing.co.nz/images/urban-swing-logo.png">
  
  <title>Class Information</title>
  <link rel="stylesheet" href="../css/modern-styles.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link rel="icon" href="/images/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/images/icons/android-chrome-192x192.png" sizes="192x192" type="image/png">
  <link rel="icon" href="/images/icons/android-chrome-512x512.png" sizes="512x512" type="image/png">
  <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png">
  
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Event",
    "name": "West Coast Swing Level 1 Classes",
    "description": "Beginner West Coast Swing dance classes at Dance Express Napier. No partner or experience required!",
    "eventSchedule": {
      "@type": "Schedule",
      "repeatFrequency": "P1W",
      "byDay": "https://schema.org/Thursday"
    },
    "startDate": "2024-01-01",
    "doorTime": "19:15:00",
    "startTime": "19:30:00",
    "eventStatus": "https://schema.org/EventScheduled",
    "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode",
    "location": {
      "@type": "Place",
      "name": "Dance Express Studios",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Cnr Taradale Road & Austin Street",
        "addressLocality": "Onekawa, Napier",
        "addressRegion": "Hawke's Bay",
        "addressCountry": "NZ"
      }
    },
    "organizer": {
      "@type": "Organization",
      "name": "Urban Swing",
      "url": "https://urbanswing.co.nz"
    },
    "offers": [
      {
        "@type": "Offer",
        "name": "Casual Rate",
        "price": "15",
        "priceCurrency": "NZD"
      },
      {
        "@type": "Offer",
        "name": "Student Rate",
        "price": "12",
        "priceCurrency": "NZD"
      }
    ]
  }
  </script>
</head>

<body>
  <!-- Header will be dynamically loaded by script.js -->

  <main class="main-content">
    <div class="container">
      <h1 class="page-title">Class Information</h1>

      <!-- Class Details Section -->
      <section class="card" aria-labelledby="class-details-heading">
        <div class="card-header">
          <h2 id="class-details-heading">Class Details</h2>
        </div>
        <div class="card-body">
          <table class="class-details-table">
        <tr>
          <td>
            <b>When:</b><br>
            Every Thursday<br>
            7:15pm - Doors open<br>
            7:30pm - Level 1 (Beginner) class<br>
            Classes are followed by social dancing<br>
            <br><br>
            <b>Where:</b><br>
            <a href="https://www.google.co.nz/maps/place/Dance+Express+Napier/@-39.5023612,176.8847153,16z/data=!3m1!4b1!4m6!3m5!1s0x6d69b33ff4cfe433:0xc3e628c1f77dece4!8m2!3d-39.5023612!4d176.8872902!16s%2Fg%2F1tkl3hv6?entry=ttu&g_ep=EgoyMDI1MDEwOC4wIKXMDSoASAFQAw%3D%3D" target="_blank" rel="noopener noreferrer">Dance Express Studios</a><br>
            Cnr Taradale Road & Austin Street<br>
            Onekawa<br>
            Napier
          </td>
          <td>
            <!-- Link to Google Maps with an image of the map -->
            <a href="https://www.google.co.nz/maps/place/Dance+Express+Napier/@-39.5023612,176.8847153,16z/data=!3m1!4b1!4m6!3m5!1s0x6d69b33ff4cfe433:0xc3e628c1f77dece4!8m2!3d-39.5023612!4d176.8872902!16s%2Fg%2F1tkl3hv6?entry=ttu&g_ep=EgoyMDI1MDEwOC4wIKXMDSoASAFQAw%3D%3D" target="_blank" rel="noopener noreferrer">
              <img src="../images/map.png" alt="Dance Express Map" style="width:100%; height:auto;">
            </a>
          </td>
        </tr>
      </table>
        </div>
      </section>

      <!-- Pricing section -->
      <section class="card" aria-labelledby="pricing-heading">
        <div class="card-header">
          <h2 id="pricing-heading">Pricing</h2>
        </div>
        <div class="card-body">
          <table class="pricing-table">
            <tr>
              <td>Casual Rate</td>
              <td id="casual-rate-price">Loading...</td>
            </tr>
            <tr>
              <td>Student Rate*</td>
              <td id="student-rate-price">Loading...</td>
            </tr>
            <tr>
              <td>5 Class Concession<br><i>Valid for 6 months</i></td>
              <td id="five-class-price">Loading...</td>
            </tr>
            <tr>
              <td>10 Class Concession<br><i>Valid for 9 months</i></td>
              <td id="ten-class-price">Loading...</td>
            </tr>
            <tr>
              <td colspan="2"><i>*Current student ID required.<br>
              **Beginners concessions are valid for Level 1 Classes only,
                including social dancing.
              </i></td> <!-- Spans both columns -->
            </tr>
            <tr>
              <td colspan="2">We accept EFTPOS PayWave (contactless) transactions and cash. 
                Please note that we're unable to accept card payments via swipe or chip insert.</td>
            </tr>
          </table>
          <!-- Register Now Button -->
          <div style="text-align: center; margin-top: var(--space-lg);">
            <a href="../register.html"
              class="btn btn-primary btn-large">
              <i class="fas fa-user-plus" style="margin-right: 8px;"></i>Register Now
            </a>
          </div>
        </div>
      </section>
    </div>
  </main>
  <script src="../js/main.js" defer></script>
  <script src="../js/enhanced-features.js" defer></script>
  
  <!-- Firebase Config & Dynamic Pricing -->
  <script src="../config/firebase-config.js"></script>
  <script>
    // Load pricing from Firestore
    async function loadPricing() {
      try {
        let casualRateFound = false;
        let studentRateFound = false;
        let fiveClassFound = false;
        let tenClassFound = false;
        
        // Fetch casual rates
        const casualRatesSnapshot = await firebase.firestore()
          .collection('casualRates')
          .where('isActive', '==', true)
          .orderBy('displayOrder', 'asc')
          .get();
        
        casualRatesSnapshot.forEach(doc => {
          const rate = doc.data();
          if (rate.name && rate.name.toLowerCase().includes('student') && !rate.isPromo) {
            document.getElementById('student-rate-price').textContent = `$ ${rate.price.toFixed(0)}`;
            studentRateFound = true;
          } else if (rate.name && !rate.name.toLowerCase().includes('student') && !rate.isPromo) {
            document.getElementById('casual-rate-price').textContent = `$ ${rate.price.toFixed(0)}`;
            casualRateFound = true;
          }
        });
        
        // Set error messages for missing casual rates
        if (!casualRateFound) {
          document.getElementById('casual-rate-price').innerHTML = '<span style="color: red;">Error: Price not found</span>';
        }
        if (!studentRateFound) {
          document.getElementById('student-rate-price').innerHTML = '<span style="color: red;">Error: Price not found</span>';
        }
        
        // Fetch concession packages
        const concessionPackagesSnapshot = await firebase.firestore()
          .collection('concessionPackages')
          .where('isActive', '==', true)
          .orderBy('numberOfClasses', 'asc')
          .get();
        
        concessionPackagesSnapshot.forEach(doc => {
          const pkg = doc.data();
          if (pkg.numberOfClasses === 5) {
            document.getElementById('five-class-price').textContent = `$ ${pkg.price.toFixed(0)}`;
            fiveClassFound = true;
          } else if (pkg.numberOfClasses === 10) {
            document.getElementById('ten-class-price').textContent = `$${pkg.price.toFixed(0)}`;
            tenClassFound = true;
          }
        });
        
        // Set error messages for missing concession packages
        if (!fiveClassFound) {
          document.getElementById('five-class-price').innerHTML = '<span style="color: red;">Error: Price not found</span>';
        }
        if (!tenClassFound) {
          document.getElementById('ten-class-price').innerHTML = '<span style="color: red;">Error: Price not found</span>';
        }
        
      } catch (error) {
        console.error('Error loading pricing:', error);
        // Show error messages if Firestore query fails
        document.getElementById('casual-rate-price').innerHTML = '<span style="color: red;">Error loading price</span>';
        document.getElementById('student-rate-price').innerHTML = '<span style="color: red;">Error loading price</span>';
        document.getElementById('five-class-price').innerHTML = '<span style="color: red;">Error loading price</span>';
        document.getElementById('ten-class-price').innerHTML = '<span style="color: red;">Error loading price</span>';
      }
    }
    
    // Load pricing when page loads
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadPricing);
    } else {
      loadPricing();
    }
  </script>
</body>

</html>