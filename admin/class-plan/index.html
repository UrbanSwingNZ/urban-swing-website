<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Class Plan - Urban Swing Admin</title>
    <link rel="stylesheet" href="../admin.css">
    <link rel="stylesheet" href="class-plan.css">
    <link rel="stylesheet" href="/styles/modals/modal-base.css">
    <link rel="stylesheet" href="/styles/modals/confirmation-modal.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link rel="icon" href="/images/icons/favicon.ico" type="image/x-icon">
    
    <!-- Date Picker Styles -->
    <link rel="stylesheet" href="/styles/date-picker/date-picker.css">
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- Loading Spinner Component -->
    <script type="module" src="/components/loading-spinner/loading-spinner.js"></script>
</head>
<body>
    <div id="main-container" class="dashboard-container">
        <!-- Header will be loaded by admin-header.js -->

        <main class="class-plan-main">
            <!-- Page Header -->
            <div class="class-plan-header">
                <h2><i class="fas fa-list-check"></i> Class Plan</h2>
                <p class="subtitle">Plan and track dance moves taught each week</p>
                
                <div class="header-actions">
                    <button class="btn-primary btn-primary-lg" id="add-class-btn">
                        <i class="fas fa-plus"></i> Add Class Plan
                    </button>
                </div>
            </div>

            <!-- Class Plans List -->
            <div class="class-plans-container" id="class-plans-container">
                <div class="empty-state" id="empty-state">
                    <i class="fas fa-clipboard-list"></i>
                    <p>No class plans yet. Click "Add Class Plan" to create your first one!</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Floating Add Button (shows when scrolled) -->
    <button id="floating-add-btn" class="floating-add-btn" title="Add Class Plan" style="display: none;">
        <i class="fas fa-plus"></i>
    </button>

    <!-- Add/Edit Class Plan Modal -->
    <div id="class-plan-modal" class="modal" style="display: none;">
        <div class="modal-content modal-content-medium">
            <div class="modal-header modal-header-gradient">
                <h3 id="modal-title"><i class="fas fa-plus"></i> Add Class Plan</h3>
                <button class="modal-close" id="modal-close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <form id="class-plan-form">
                    <!-- Date Selection -->
                    <div class="form-group">
                        <label for="class-date" class="form-label">
                            <i class="fas fa-calendar-alt"></i> Class Date
                        </label>
                        <div class="date-input-wrapper">
                            <input type="text" id="class-date" class="date-input" readonly placeholder="Select date" required />
                            <i class="fas fa-calendar-alt date-input-icon"></i>
                        </div>
                        <div id="class-calendar" class="custom-calendar" style="display: none;"></div>
                    </div>

                    <!-- Move 1 -->
                    <div class="form-group">
                        <label for="move-1" class="form-label">
                            <i class="fas fa-shoe-prints"></i> Move 1
                        </label>
                        <input type="text" id="move-1" class="form-input" placeholder="Enter move name" />
                    </div>

                    <!-- Move 2 -->
                    <div class="form-group">
                        <label for="move-2" class="form-label">
                            <i class="fas fa-shoe-prints"></i> Move 2
                        </label>
                        <input type="text" id="move-2" class="form-input" placeholder="Enter move name" />
                    </div>

                    <!-- Move 3 -->
                    <div class="form-group">
                        <label for="move-3" class="form-label">
                            <i class="fas fa-shoe-prints"></i> Move 3
                        </label>
                        <input type="text" id="move-3" class="form-input" placeholder="Enter move name" />
                    </div>

                    <!-- Notes -->
                    <div class="form-group">
                        <label for="notes" class="form-label">
                            <i class="fas fa-sticky-note"></i> Notes
                        </label>
                        <textarea id="notes" class="form-textarea" rows="4" placeholder="Add any additional notes or comments"></textarea>
                    </div>
                </form>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn-cancel" id="cancel-btn">Cancel</button>
                <button type="submit" class="btn-primary" id="save-btn" form="class-plan-form">
                    <i class="fas fa-save"></i> Save Class Plan
                </button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal modal-danger" style="display: none;">
        <div class="modal-content modal-content-small">
            <div class="modal-header modal-header-gradient">
                <h3><i class="fas fa-exclamation-triangle"></i> Delete Class Plan</h3>
                <button class="modal-close" id="delete-modal-close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <p>Are you sure you want to delete this class plan? This action cannot be undone.</p>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn-cancel" id="delete-cancel-btn">Cancel</button>
                <button type="button" class="btn-danger" id="delete-confirm-btn">
                    <i class="fas fa-trash"></i> Delete
                </button>
            </div>
        </div>
    </div>

    <!-- Firebase Config & Scripts -->
    <script src="/config/firebase-config.js"></script>
    
    <!-- Centralized Utilities -->
    <script type="module" src="/js/utils/index.js"></script>
    
    <!-- Date Picker -->
    <script src="/functions/date-picker/date-picker.js"></script>
    
    <!-- BaseModal Component -->
    <script type="module" src="/components/modals/modal-base.js"></script>
    
    <!-- Admin Header Dependencies -->
    <script src="/components/mobile-drawer.js"></script>
    <script src="../js/header-config.js"></script>
    <script src="../js/header-configurator.js"></script>
    <script src="../js/mobile-nav.js"></script>
    <script src="../admin-header.js"></script>
    
    <!-- Class Plan Logic -->
    <script type="module" src="class-plan.js"></script>
</body>
</html>
